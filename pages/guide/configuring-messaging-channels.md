---
title: Configuring Messaging Channels
section: guide
layout: two-column
---

# Configuring Messaging Channels

Smooch apps act as interfaces for individual business to communicate over messaging channels like Facebook Messenger, SMS and the Smooch Web Messenger.

As a part of the [Managed accounts API](https://docs.smooch.io/rest/#managed-accounts) , Smooch offers a [create integration endpoint](https://docs.smooch.io/rest/#integrations) that can be used to provision apps with messaging channels, as an alternative to the UI.

This is particularly useful if you want to offer Smooch's messaging capabilities as a part of your own business software product.

The rest of this page will lead you through the process of integrating channels via the API.

## Smooch SDKs

In contrast with third-party channels like Facebook Messenger and Twilio SMS, the Web and Mobile SDKs only need to be passed an `appToken` from a Smooch app in order to be initialized. So no integration step is required.

## Integrations

For channels like WeChat, Viber, LINE, Telegram, Twilio and Facebook Messenger, it's necessary to call the [create integrations endpoint](https://docs.smooch.io/rest/#integrations), and pass the required credentials.

Below we'll outline the credentials required for each channel, and how to capture them.

### Facebook Messenger

In order to use the managed accounts API to integrate apps with [Facebook Messenger](https://docs.smooch.io/rest/#facebook-messenger), you must have a Facebook developer account and create a Facebook app. Note that you need only one Facebook app to integrate any number of Facebook pages over any number of customers.
- Create a Facebook app [here](https://developer.facebook.com/).
- See the Smooch API reference for integrating a Facebook app [here](https://docs.smooch.io/rest/#facebook-messenger).

The only thing you need acquire from your customer to integrate their Facebook page is a Page Access Token.

- See the Facebook [docs](https://developers.facebook.com/docs/pages/access-tokens#page-access-tokens) on getting the access token.
- Once you have the access token, simple call the Smooch API as specified [here](https://docs.smooch.io/rest/#facebook-messenger), to create the integration.

### Twilio SMS

To integrate [Twilio SMS](https://docs.smooch.io/rest/#twilio) with a Smooch app you must provide the Twilio Auth Token, Account SID, and Phone Number SID.

The auth token and account SID are available via the Twilio Console, as seen here:

![Twilio Console](/images/sms_twilio_console.png)

The phone number SID can be acquired from the settings page for the phone number, in the Twilio console, or via the [Twilio REST API](https://www.twilio.com/docs/api/rest/incoming-phone-numbers).

Phone numbers may either be pre-existing numbers from 3rd parties who give you access, or numbers provisioned to your own account.

See the Smooch API reference for integrating Twilio SMS [here](https://docs.smooch.io/rest/#twilio).

### Telegram

To integrate [Telegram](https://docs.smooch.io/rest/#telegram) with a Smooch app you need only provide the Telegram Bot Token.

To generate the Telegram bot token one simply has to open their Telegram app and send a message to [@BotFather](https://telegram.me/botfather).

![@BotFather](/images/botfather_create_bot.png)

To integrate call the Smooch API with the token generated by [@BotFather](https://telegram.me/botfather).
- More [information on BotFather](https://core.telegram.org/bots#botfather).
- See the Smooch API reference for integrating Telegram [here](https://docs.smooch.io/rest/#telegram).

### WeChat

To integrate [WeChat](https://docs.smooch.io/rest/#wechat) you will need to pass a WeChat app ID and app secret to Smooch. You can get them by following the below steps.

You'll need a WeChat Official Account. You can apply for one [here](http://apply.wechat.com).

Once you've created your account, you will need to go through the account verification process. In order to do so, login to your [WeChat dashboard](https://mp.weixin.qq.com) and go to the “WeChat Certification | 微信认证” page below the Set Up section.

In the WeChat dashboard, go to the “Basic Configuration | 基本配置” page below the Develop section and grab the App ID and App Secret to pass in the API call to Smooch.

App ID:
![app id](/images/wechat_app_id.png)

App secret:

![app secret](/images/wechat_app_secret.png)

Once you make the API call to Smooch (as specified [here](https://docs.smooch.io/rest/#wechat)). You will receive a webhook secret in the response. You must now set that secret and a callback URL in the WeChat dashboard, as outlined below.

In the WeChat dashboard, click on “Modify Configuration | 修改配置” below Basic Configuration, then paste `https://app.smooch.io/api/wechat/webhooks/[SMOOCH APP ID]` into the URL field and the `webhookSecret` from the Smooch integration call response into the Token field.

URL field:

![URL](/images/wechat_url.png)

Token field:

![token](/images/wechat_token.png)

#### WeChat Safe Mode

Optionally, you can configure "Safe Mode" in the WeChat dashboard. With this mode enabled, all outgoing messages from WeChat will be encrypted using a secure 43 character AES key.

In order to have Safe Mode functioning correctly with Smooch, send the EncodingAESKey from WeChat with the Smooch [create integration call](https://docs.smooch.io/rest/#wechat). Messages will be automatically decrypted in a secure fashion.

See the Smooch API reference for integrating WeChat [here](https://docs.smooch.io/rest/#wechat).

## LINE

To integrate [LINE](https://docs.smooch.io/rest/#line) with Smooch you will need a LINE channel token and secret, and to set a callback URL in the LINE dashboard.

You'll need a LINE business account and messaging API channel.

### Creating a LINE Business Account

To create a business account you first need to create a LINE account through a [mobile app](http://line.me/en-US/download).

If you already have a LINE business account, login to [LINE business section](https://business.line.me) then skip to [Creating a LINE Messaging API Channel](/guide/line/#creating-a-line-messaging-api-channel).

After having signed up with your phone number, you will need to activate email registration and create a LINE business account.

1. Go in the settings (see screenshot below) > account and click on "Email registration". Enter your email address and password and click "Register". LINE will send you an email to confirm your registration.

<div class="image-row">
    <img alt="Line settings" src="/images/line_settings.png">
</div>

1. Login to the [LINE business section](https://business.line.me) with the credentials entered previously. You'll need your phone to login.

2. Enter your account details, and confirm the registration by email.

3. Enter information about your business to complete the LINE business account registration.

### Creating a LINE Messaging API Channel

To create a messaging channel, login to the [LINE business section](https://business.line.me) and follow these steps:

1. Click "Account List", and select "Messaging API" to create a Messaging API account.

2. Click "Start using Messaging API" and enter your Account Name and other required information. Upload an icon if you desire.

3. Click "Apply"

4. In the bot settings, click "Enable API" and confirm.

5. In Bot Settings, "Don't Allow" Group Chats, "Allow" Use webhooks, "Don't Allow" Auto Reply Message and "Don't Allow" Greeting Message.

<div class="image-row">
    <img alt="Line bot settings" src="/images/line_bot_settings.png">
</div>

You're now ready to configure your LINE messaging account with Smooch.

### Configuring LINE

Browse to the [LINE developers page](https://developers.line.me/ba).

1. In the LINE developers page, click the "Issue" Channel Access Token button ![issue token](/images/issue_line_token.png) and call the [Smooch create integration endpoint](https://docs.smooch.io/rest/#line) with the generated channel access token and secret.

2. In the LINE account settings click on "EDIT" at the bottom of your bot settings, and enter `https://app.smooch.io:443/api/line/webhooks/[SMOOCH APP ID]` as a webhook URL, then save.

See the Smooch API reference for integrating LINE [here](https://docs.smooch.io/rest/#line

## Viber

To integrate [Viber](https://docs.smooch.io/rest/#viber), pass the Viber Public account token to Smooch.

You can generate one from your Viber [public account page](https://www.viber.com/en/public-accounts).

See the Smooch API reference for integrating Viber [here](https://docs.smooch.io/rest/#viber)

## Email

To create a Smooch [email](https://docs.smooch.io/rest/#email) integration, simply call the create integration endpoint as shown in the [reference](https://docs.smooch.io/rest/#email).
