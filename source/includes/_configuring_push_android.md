## Configuring push notifications

Push notifications are a great, unobtrusive way to let your users know that a reply to their message has arrived.

### Step 1. Generate a FCM configuration file for your Android project

<aside class="notice">
Following these steps will enable cloud messaging for your app and create a server API key
</aside>

1. Go to Google's [Firebase console](https://console.firebase.google.com)

1. If you do not have a project already, create a new one

1. Once created, click on "Add Firebase to your Android app" and follow the instructions to generate your `google-services.json` file (for your package name, copy and paste the package used in your application's AndroidManifest.xml file)

1. Save the `google-services.json` file generated by the tool at the root of your Android application

### Step 2. Configure push notifications in Smooch

1. Go to [https://app.smooch.io](https://app.smooch.io) and log into your account.

2. On the Overview page, select **Android**

3. Enter your *Server API Key* and *Sender ID* (these can be retrieved by going to `Manage` for your app and heading to the `CLOUD MESSAGING` section)

### Step 3. Configure Android application to accept push

1. Add the dependency to your project's top-level `build.gradle`:

    ```
    classpath 'com.google.gms:google-services:3.0.0'
    ```

2. Add the plugin to the bottom of your app-level `build.gradle`:

    ```
    apply plugin: 'com.google.gms.google-services'
    ```

<aside class="notice">
Note: If your app has its own token registration, you need to trigger Smooch push notifications by calling the `triggerSmoochNotification` method on [`FcmService`](http://docs.smooch.io/api/android/io/smooch/core/GcmService.html) class.</aside>

### Step 4. Test it out!

<aside class="warning">
To test push notifications in the Android emulator, you must use a system image with Google APIs.
</aside>

1. Kill and restart your app.

2. Launch Smooch.

3. Send a message.

4. Press the home button or navigate away from the conversation.

5. Reply to the message from your choice of Smooch integrated service

You'll receive a notification on the phone!
